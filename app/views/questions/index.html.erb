<div class="ui grid">
	<div class="two column row">
		<div class="column">
			<div class="ui category search">
			    <input id="search" class="prompt" type="text" placeholder="Search for a keyword">
			</div>
		</div>
		<div class="column">
			<div class="ui right aligned container">
			  <a class="ui labeled icon positive button" href="<%= new_question_path %>">
			    <i class="edit icon"></i>
			    Post
			  </a>
			</div>
		</div>
	</div>
</div>

<div class="ui large middle aligned divided animated list">
  <% @questions.each do |question| %>
    <a href="<%= question_path(question) %>" class="item question">
      <img class="ui avatar image" src="<%= question.profile.photo_url %>">
      <div class="content">
        <div class="header question-title"><%= question.title %></div>
      </div>
    </a>
  <% end %>
</div>

<script>
	const search = document.getElementById('search');
	search.addEventListener('input', () => {
		const allQuestions = document.getElementsByClassName('question-title')
		Array.prototype.forEach.call(allQuestions, (e) => {
			e.parentNode.parentNode.style.display = 'block';
			if (e.innerHTML.includes(search.value) === false) {
				e.parentNode.parentNode.style.display = 'none';
			}
		});
	});
</script>
